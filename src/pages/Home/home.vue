<template>
    <div>
    <div class="navbar navbar-default navbar-fixed-bottom" role="navigation">
        <div class="navbar-header">
        </div>
        <div class="navbar-collapse collapse">

            <ul class="nav navbar-nav">
                <li><a href="/userProject">
                    <svg t="1586577925368" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8180" width="20" height="20"><path d="M748.8 1024 130.56 1024c-48.64 0-88.32-39.68-88.32-88.32L42.24 207.36c0-48.64 39.68-88.32 88.32-88.32L748.8 119.04c48.64 0 88.32 39.68 88.32 88.32l0 728.96C836.48 984.32 796.8 1024 748.8 1024zM130.56 157.44c-27.52 0-49.92 22.4-49.92 49.92l0 728.96c0 27.52 22.4 49.92 49.92 49.92L748.8 986.24c27.52 0 49.92-22.4 49.92-49.92L798.72 207.36c0-27.52-22.4-49.92-49.92-49.92L130.56 157.44z" p-id="8181"></path><path d="M893.44 904.96l-46.08 0c-10.88 0-19.2-8.32-19.2-19.2s8.32-19.2 19.2-19.2l46.08 0c26.88 0 49.28-22.4 49.28-49.92L942.72 88.32c0-27.52-21.76-49.92-49.28-49.92L275.2 38.4c-26.88 0-49.28 22.4-49.28 49.92l0 18.56c0 10.88-8.32 19.2-19.2 19.2s-19.2-8.32-19.2-19.2l0-18.56C187.52 39.68 226.56 0 275.2 0l618.88 0c48 0 87.68 39.68 87.68 88.32l0 727.68C981.12 865.28 942.08 904.96 893.44 904.96z" p-id="8182"></path><path d="M817.28 376.96 62.08 376.96c-10.88 0-19.2-8.32-19.2-19.2s8.32-19.2 19.2-19.2l755.2 0c10.88 0 19.2 8.32 19.2 19.2S828.16 376.96 817.28 376.96z" p-id="8183"></path><path d="M528 282.88 142.08 282.88c-10.88 0-19.2-8.32-19.2-19.2s8.32-19.2 19.2-19.2l385.92 0c10.88 0 19.2 8.32 19.2 19.2S538.88 282.88 528 282.88z" p-id="8184"></path><path d="M705.92 282.88 583.04 282.88c-10.88 0-19.2-8.32-19.2-19.2s8.32-19.2 19.2-19.2l123.52 0c10.88 0 19.2 8.32 19.2 19.2S716.8 282.88 705.92 282.88z" p-id="8185"></path></svg>
                    我的项目</a>
                </li>
                <li><a href="/login">
                    <svg t="1586578164028" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6634" width="20" height="20"><path d="M634.342 589.022c105.11 41.118 185.376 133.808 207.609 249.08 2.965 15.374-7.095 30.241-22.469 33.206-15.374 2.965-30.24-7.094-33.205-22.468-25.155-130.425-139.813-226.122-274.22-226.122-134.407 0-249.067 95.7-274.22 226.125-2.965 15.374-17.831 25.434-33.205 22.47-15.374-2.966-25.434-17.832-22.469-33.206 22.23-115.275 102.498-207.967 207.61-249.085-76.52-42.89-128.237-124.79-128.237-218.77 0-138.402 112.16-250.602 250.522-250.602 138.36 0 250.52 112.2 250.52 250.602 0 93.98-51.716 175.88-128.236 218.77z m71.537-218.77c0-107.092-86.78-193.902-193.821-193.902-107.043 0-193.822 86.81-193.822 193.902 0 107.09 86.779 193.9 193.822 193.9 107.042 0 193.82-86.81 193.82-193.9z" p-id="6635"></path></svg>
                    登录</a>
                </li>
                <li><a @click="logout()">
                    <svg t="1586578267186" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6880" width="20" height="20"><path d="M903.6 351.2C882.8 302 853 257.9 815.1 220s-82.1-67.7-131.3-88.5C632.9 109.9 578.8 99 523 99c-72.6 0-144 19.1-206.5 55.3-14.3 8.3-19.2 26.6-10.9 41 8.3 14.3 26.6 19.2 41 10.9C399.9 175.3 461 159 523 159c94.3 0 182.9 36.7 249.6 103.4S876 417.7 876 512c0 94.3-36.7 182.9-103.4 249.6S617.3 865 523 865c-62.1 0-123.1-16.3-176.5-47.2-14.3-8.3-32.7-3.4-41 10.9-8.3 14.3-3.4 32.7 10.9 41C379 905.9 450.4 925 523 925c55.7 0 109.8-10.9 160.8-32.5 49.2-20.8 93.3-50.6 131.3-88.5s67.7-82.1 88.5-131.3c21.5-50.9 32.5-105 32.5-160.8s-11-109.7-32.5-160.7z" p-id="6881"></path><path d="M432 680.5c-11.7 11.7-11.7 30.7 0 42.4 5.9 5.9 13.5 8.8 21.2 8.8s15.4-2.9 21.2-8.8L664 533.4l0.2-0.2c2.5-2.5 4.4-5.2 5.8-8.2l0.6-1.2v-0.1c0.2-0.4 0.3-0.8 0.5-1.2 0-0.1 0.1-0.1 0.1-0.2 0.1-0.4 0.3-0.7 0.4-1.1 0-0.1 0.1-0.2 0.1-0.3 0.1-0.4 0.2-0.7 0.3-1.1 0-0.1 0.1-0.2 0.1-0.4 0.1-0.4 0.2-0.7 0.2-1.1 0-0.1 0.1-0.3 0.1-0.4 0.1-0.4 0.1-0.8 0.2-1.1 0-0.1 0-0.2 0.1-0.3 0.1-0.4 0.1-0.9 0.2-1.3v-0.1c0.2-2 0.2-4.1 0-6.1v-0.3c0-0.4-0.1-0.7-0.1-1.1 0-0.2-0.1-0.4-0.1-0.6 0-0.3-0.1-0.6-0.2-0.9 0-0.2-0.1-0.4-0.1-0.7-0.1-0.3-0.1-0.5-0.2-0.8-0.1-0.2-0.1-0.4-0.2-0.7-0.1-0.2-0.1-0.5-0.2-0.7-0.1-0.2-0.1-0.4-0.2-0.6-0.1-0.3-0.2-0.5-0.3-0.8-0.1-0.2-0.1-0.4-0.2-0.6-0.1-0.3-0.2-0.5-0.3-0.8-0.1-0.2-0.2-0.3-0.2-0.5-0.1-0.3-0.2-0.6-0.4-0.8-0.1-0.2-0.1-0.3-0.2-0.5-0.1-0.3-0.3-0.6-0.4-0.9-0.1-0.1-0.2-0.3-0.2-0.4-0.2-0.3-0.3-0.6-0.5-0.9-0.1-0.1-0.2-0.3-0.2-0.4-0.1-0.2-0.3-0.4-0.4-0.7 0-0.1-0.1-0.1-0.1-0.2-0.1-0.1-0.2-0.3-0.3-0.4-0.2-0.3-0.4-0.5-0.6-0.8-0.1-0.2-0.2-0.3-0.4-0.5s-0.4-0.5-0.5-0.7c-0.2-0.2-0.3-0.4-0.5-0.6-0.2-0.2-0.3-0.4-0.5-0.5-0.3-0.4-0.7-0.7-1-1.1L474.5 301c-11.7-11.7-30.7-11.7-42.4 0s-11.7 30.7 0 42.4L570.6 482H170.7c-16.6 0-30 13.4-30 30s13.4 30 30 30h399.9L432 680.5z" p-id="6882"></path></svg>
                    登出</a>
                </li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>

    <header>
        <div class="logo">
            <a href="index.html"><img src="https://s1.ax1x.com/2020/04/11/GHkdUg.png"></a>
        </div>
    </header>

    <div id="page-content" class="index-page">
        <div id="container" v-for="item in tableData">
                <div class="item"
                     style="width: auto; box-shadow: 10px 10px 5px #888888; margin:25px; border-radius: 20px;" >
                    <div class="content-item">
                        <span class="time"><a class="btn btn-1" v-if="item.degree">紧急</a></span>
                        <span class="time"><a class="btn btn-2" v-if="!item.degree">普通</a></span>
                        <el-button type="primary"  @click="signUpProject(item)" style="margin-left: 1400px" v-if="item.signUpNumber < item.maxNumber">报名</el-button>
                        <h3 class="title-item" v-text="item.name"><a>众包</a></h3>
                        <ul class="list-inline" style="margin-top: 20px">
                            <span>
                                <svg t="1586577021161" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1979" width="20" height="20"><path d="M629.79994 604.794429c0 0-242.759953 0-333.757456 212.421994 0 0 151.990646 60.670801 333.757456 60.670801s333.756433-60.670801 333.756433-60.670801C872.52817 604.794429 629.79994 604.794429 629.79994 604.794429L629.79994 604.794429zM629.79994 574.520939c91.029226 0 151.693888-91.029226 151.693888-242.786559 0-151.752216-151.693888-151.72561-151.693888-151.72561s-151.699004 0-151.699004 151.72561C478.101959 483.45999 538.770713 574.520939 629.79994 574.520939L629.79994 574.520939zM335.300602 470.976678c29.919427 0 55.600319-12.399401 75.979462-34.749432-7.540743-30.512944-11.692297-65.379033-11.692297-104.491843 0-58.311057 22.414499-94.088912 50.037626-116.149347-30.067806-69.297272-114.298186-69.473281-114.298186-69.473281s-124.956943 0-124.956943 124.956943 49.978275 199.907982 124.956943 199.907982L335.300602 470.977701zM453.098495 568.894801l-4.241604-49.386804c-61.164035-23.411199-113.556289-23.559579-113.556289-23.559579s-199.907982 0-274.857998 174.935218c0 0 96.623641 38.520315 221.669612 47.91222 108.878756-114.001427 171.018002-149.870356 171.018002-149.870356L453.098495 568.894801zM453.098495 568.894801" p-id="1980"></path></svg>
                                最大人数
                                <span v-text="item.maxNumber">
                                260
                            </span>
                            </span>
                            <span style="margin-left: 20px">
                                <svg t="1586577135891" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2102" width="20" height="20"><path d="M346.4 449.9H222.1V325.7h-82.8v124.2H15.1v82.8h124.2v124.2h82.8V532.7h124.2v-82.8z m414 41.4c68.7 0 123.8-55.5 123.8-124.2s-55.1-124.2-123.8-124.2c-13.3 0-26.1 2.1-37.7 5.8 23.6 33.5 37.3 74.1 37.3 118.4s-14.1 84.5-37.3 118.4c11.7 3.7 24.5 5.8 37.7 5.8z m-207 0c68.7 0 123.8-55.5 123.8-124.2s-55.1-124.2-123.8-124.2-124.2 55.5-124.2 124.2 55.5 124.2 124.2 124.2z m274.1 89.4c34.4 30.2 57.1 68.7 57.1 117.6v82.8h124.2v-82.8c0.1-63.7-98-103.1-181.3-117.6z m-274.1-6.6c-82.8 0-248.4 41.4-248.4 124.2v82.8h496.9v-82.8c0-82.8-165.7-124.2-248.5-124.2z" fill="#515151" p-id="2103"></path></svg>
                                已经报名
                                <span v-text="item.signUpNumber">
                                260
                            </span>
                            </span>
                            <span style="margin-left: 20px">
                                <svg t="1586577205231" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3961" width="20" height="20"><path d="M694.26516 286.98827 512 469.254453 329.732793 286.98827c-8.287757-8.287757-21.724791-8.286734-30.012547 0.001023-8.286734 8.286734-8.286734 21.723767 0 30.011524l161.04486 161.043836-108.634186 0c-11.720949 0-21.221324 9.502421-21.221324 21.221324s9.501398 21.221324 21.221324 21.221324l139.000797 0 0 89.12997L363.803773 609.617271c-11.720949 0-21.221324 9.502421-21.221324 21.221324s9.501398 21.221324 21.221324 21.221324l127.328967 0 0 131.572618c0 11.718903 9.502421 21.221324 21.221324 21.221324s21.221324-9.502421 21.221324-21.221324L533.575388 652.059919l127.327944 0c11.719926 0 21.221324-9.502421 21.221324-21.221324S672.623257 609.617271 660.903332 609.617271L533.575388 609.617271l0-89.12997 138.999774 0c11.719926 0 21.221324-9.502421 21.221324-21.221324s-9.502421-21.221324-21.221324-21.221324L563.233871 478.044654l161.043836-161.043836c8.287757-8.287757 8.287757-21.724791 0-30.012547C715.987904 278.700513 702.554964 278.700513 694.26516 286.98827z" p-id="3962"></path><path d="M512 65.290005c-246.316965 0-446.709995 200.39303-446.709995 446.708971 0 246.316965 200.39303 446.709995 446.709995 446.709995s446.709995-200.39303 446.709995-446.709995C958.709995 265.683035 758.316965 65.290005 512 65.290005zM512 916.266323c-222.913952 0-404.267347-181.353394-404.267347-404.267347S289.086048 107.733677 512 107.733677s404.267347 181.352371 404.267347 404.266323S734.912929 916.266323 512 916.266323z" p-id="3963"></path></svg>
                                报酬
                                <span v-text="item.money">
                                260
                            </span>
                            </span>
                            <span style="margin-left: 20px">
                                <svg t="1586577276205" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6948" width="20" height="20"><path d="M511.97952 904.31488C295.66976 904.31488 119.68512 728.30976 119.68512 512S295.66976 119.68512 511.97952 119.68512c216.33024 0 392.33536 176.00512 392.33536 392.31488s-175.98464 392.31488-392.33536 392.31488z m0-739.47136c-191.42656 0-347.136 155.72992-347.136 347.15648 0 191.46752 155.70944 347.17696 347.136 347.17696 191.488 0 347.19744-155.72992 347.19744-347.17696 0-191.42656-155.70944-347.15648-347.19744-347.15648z m0 0" p-id="6949"></path><path d="M700.84608 717.35296H323.09248c-18.88256 0-31.47776-12.5952-31.47776-31.51872v-314.7776c0-18.88256 12.5952-31.49824 31.47776-31.49824h62.95552v-47.2064c0-9.44128 6.30784-15.74912 15.74912-15.74912s15.74912 6.28736 15.74912 15.74912v47.2064h188.88704v-47.2064c0-9.44128 6.28736-15.74912 15.74912-15.74912 9.4208 0 15.70816 6.28736 15.70816 15.74912v47.2064h62.95552c18.90304 0 31.51872 12.5952 31.51872 31.49824v314.79808c0 18.90304-15.7696 31.49824-31.51872 31.49824z m0-330.56768c0-9.44128-6.28736-15.74912-15.72864-15.74912h-47.24736v47.22688c0 9.46176-6.28736 15.74912-15.70816 15.74912-9.46176 0-15.74912-6.28736-15.74912-15.74912v-47.22688h-188.88704v47.22688c0 9.46176-6.30784 15.74912-15.74912 15.74912s-15.74912-6.28736-15.74912-15.74912v-47.22688h-47.22688c-9.44128 0-15.74912 6.30784-15.74912 15.74912v78.70464h377.73312v-78.70464z m0 110.20288H323.09248v173.13792c0 9.4208 6.30784 15.72864 15.74912 15.72864h346.27584c9.44128 0 15.72864-6.30784 15.72864-15.72864v-173.13792z m0 0" p-id="6950"></path><path d="M700.84608 723.80416H323.09248c-22.3232 0-37.90848-15.62624-37.90848-37.96992v-314.7776c0-22.3232 15.58528-37.92896 37.90848-37.92896h56.5248v-40.77568c0-13.06624 9.1136-22.17984 22.17984-22.17984s22.17984 9.1136 22.17984 22.17984v40.77568h176.0256v-40.77568c0-13.06624 9.1136-22.17984 22.17984-22.17984 13.04576 0 22.13888 9.1136 22.13888 22.17984v40.77568h56.5248c22.34368 0 37.96992 15.60576 37.96992 37.92896v314.79808c-0.02048 23.42912-19.72224 37.94944-37.96992 37.94944zM323.09248 346.0096c-15.44192 0-25.04704 9.60512-25.04704 25.04704v314.79808c0 15.48288 9.58464 25.088 25.04704 25.088H700.8256c12.06272 0 25.088-9.60512 25.088-25.088V371.05664c0-15.21664-9.8304-25.04704-25.088-25.04704h-69.38624v-53.6576c0-5.91872-3.3792-9.29792-9.27744-9.29792-5.91872 0-9.29792 3.39968-9.29792 9.29792v53.6576h-201.76896v-53.6576c0-5.91872-3.39968-9.29792-9.3184-9.29792-5.91872 0-9.29792 3.39968-9.29792 9.29792v53.6576h-69.38624z m362.02496 346.25536H338.8416c-13.06624 0-22.17984-9.09312-22.17984-22.13888v-179.58912h390.61504v179.58912c0 13.02528-9.09312 22.13888-22.15936 22.13888zM329.5232 503.41888v166.7072c0 5.89824 3.39968 9.27744 9.3184 9.27744h346.27584c5.91872 0 9.27744-3.3792 9.27744-9.27744v-166.7072H329.5232z m377.7536-31.49824H316.66176v-85.13536c0-13.06624 9.1136-22.17984 22.17984-22.17984h53.6576v53.6576c0 5.91872 3.39968 9.3184 9.29792 9.3184 5.91872 0 9.3184-3.39968 9.3184-9.3184v-53.6576h201.76896v53.6576c0 5.91872 3.3792 9.3184 9.29792 9.3184 5.89824 0 9.27744-3.39968 9.27744-9.3184v-53.6576h53.6576c13.06624 0 22.15936 9.1136 22.15936 22.17984v85.13536z m-377.7536-12.86144h364.87168v-72.27392c0-5.91872-3.35872-9.29792-9.27744-9.29792h-40.79616v40.77568c0 13.06624-9.09312 22.17984-22.13888 22.17984-13.06624 0-22.17984-9.1136-22.17984-22.17984v-40.77568h-176.0256v40.77568c0 13.06624-9.1136 22.17984-22.17984 22.17984s-22.17984-9.1136-22.17984-22.17984v-40.77568h-40.79616c-5.91872 0-9.3184 3.39968-9.3184 9.29792v72.27392z" p-id="6951"></path></svg>                            截止日期
                                <span v-text="item.deadline">
                                2020-5-5
                            </span>
                            </span >
                            <span class="bottom-item" style="margin-left: 20px">
                                <span class="user f-right">创建人
                                    <a v-text="item.creater">
                                        Jason Lemon
                                    </a></span>
                            </span>
                        </ul>
                    </div>
                </div >
        </div>
    </div>
    </div>
</template>

<style>
    .item { cursor: pointer; }
</style>

<script>
    export default {
        data() {
            return {
                tableData: null
            };
        },

        created() {
            const _this = this;
            this.$http({
                method: 'get',
                url: '/getAllPassProject',
                headers: {
                    'Authorization': 'Bearer ' + window.localStorage.getItem('token')
                }
            }).then(
                function (response) {
                    _this.tableData = response.data.data;
                    console.log(_this.tableData);
                }
            );
        },

        methods: {
            logout() {
                window.localStorage.setItem('token', '')
                window.location.reload()
            },

            signUpProject(item) {
                let pid = item.id;
                this.$http({
                    method: 'post',
                    url: '/signUp/' + pid,
                    headers: {
                        'Authorization': 'Bearer ' + window.localStorage.getItem('token')
                    }
                }).then(()=> {
                    window.location.reload();
                    }
                );
            }
        }
    }
</script>
